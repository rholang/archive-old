{"version":3,"file":"finalizeUpload.js","sourceRoot":"","sources":["../../../../src/popup/middleware/finalizeUpload.ts"],"names":[],"mappings":"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"}